import{u as k,o as a,d as i,e as t,t as m,F as w,q as C,g as _,r as y,s as P,f as o,i as c,j as v,w as $,p as f}from"./index.e515a6fe.js";import{u as h,_ as V,a as M,b as A}from"./playlist.85cf3da9.js";import{M as q}from"./Modal.3c4fcb77.js";import{_ as x,a as g}from"./Input.7bb78819.js";import"./player.775655bb.js";import"./songHelpers.84ed5525.js";const B={class:"text-gray-900 font-semibold mb-1 truncate"},S={key:0,class:"text-gray-600 text-sm truncate"},j={key:1,class:"text-gray-600 text-sm"},L={__name:"PlaylistCard",props:{playlist:{type:Object,required:!0}},setup(n){const l=n,r=k(),s=h(),d=async()=>{await s.fetchPlaylist(l.playlist.id),r.push(`/playlist/${l.playlist.id}`)};return(b,u)=>(a(),i("div",{class:"bg-white pixel-card pixel-texture-light border-vibrant-purple p-4 hover:bg-vibrant-bg-hover transition-all cursor-pointer group",onClick:d},[u[0]||(u[0]=t("div",{class:"w-full aspect-square bg-gradient-to-br from-vibrant-pink to-vibrant-orange pixel-border border-vibrant-pink mb-4 flex items-center justify-center group-hover:scale-105 transition-transform"},[t("svg",{class:"w-16 h-16 text-white opacity-80",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})])],-1)),t("h3",B,m(n.playlist.name),1),n.playlist.description?(a(),i("p",S,m(n.playlist.description),1)):(a(),i("p",j,"Playlist"))]))}},N={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},F={__name:"PlaylistList",props:{playlists:{type:Array,default:()=>[]}},setup(n){return(l,r)=>(a(),i("div",N,[(a(!0),i(w,null,C(n.playlists,s=>(a(),_(L,{key:s.id,playlist:s},null,8,["playlist"]))),128))]))}},Y={class:"flex h-screen"},D={class:"flex-1 flex flex-col overflow-hidden"},E={class:"flex-1 overflow-y-auto pb-24"},U={class:"p-8"},z={class:"flex items-center justify-between mb-8"},O={key:0,class:"text-center py-12"},R={key:1,class:"bg-red-100 pixel-border border-red-500 p-4 text-red-700 mb-4 pixel-texture"},T={key:2,class:"text-center py-12"},G={class:"flex space-x-4"},X={__name:"PlaylistsView",setup(n){const l=h(),r=y(!1),s=y({name:"",description:""}),d=y({});P(async()=>{await l.fetchPlaylists()});const b=async()=>{if(d.value={},!s.value.name.trim()){d.value.name="Playlist name is required";return}const u=await l.createPlaylist(s.value.name,s.value.description||null);u.success?(r.value=!1,s.value={name:"",description:""},d.value={}):console.error(u.error)};return(u,e)=>(a(),i("div",Y,[o(V),t("div",D,[o(M),t("div",E,[t("div",U,[t("div",z,[e[6]||(e[6]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Your Library",-1)),t("button",{onClick:e[0]||(e[0]=p=>r.value=!0),class:"px-6 py-2 bg-vibrant-pink text-white pixel-button border-vibrant-pink font-semibold hover:bg-vibrant-pink-light transition-colors pixel-texture-vibrant"}," Create Playlist ")]),c(l).loading?(a(),i("div",O,[...e[7]||(e[7]=[t("p",{class:"text-gray-600"},"Loading playlists...",-1)])])):c(l).error?(a(),i("div",R,m(c(l).error),1)):c(l).playlists.length===0?(a(),i("div",T,[e[8]||(e[8]=t("p",{class:"text-gray-600 mb-4"},"You don't have any playlists yet",-1)),t("button",{onClick:e[1]||(e[1]=p=>r.value=!0),class:"px-6 py-2 bg-vibrant-pink text-white pixel-button border-vibrant-pink font-semibold hover:bg-vibrant-pink-light transition-colors pixel-texture-vibrant"}," Create Your First Playlist ")])):(a(),_(F,{key:3,playlists:c(l).playlists},null,8,["playlists"])),o(q,{show:r.value,title:"Create Playlist",onClose:e[5]||(e[5]=p=>r.value=!1)},{default:v(()=>[t("form",{onSubmit:$(b,["prevent"]),class:"space-y-4"},[o(x,{modelValue:s.value.name,"onUpdate:modelValue":e[2]||(e[2]=p=>s.value.name=p),label:"Playlist Name",placeholder:"My Awesome Playlist",required:"",error:d.value.name},null,8,["modelValue","error"]),o(x,{modelValue:s.value.description,"onUpdate:modelValue":e[3]||(e[3]=p=>s.value.description=p),label:"Description (optional)",placeholder:"A collection of my favorite tracks",error:d.value.description},null,8,["modelValue","error"]),t("div",G,[o(g,{type:"submit",disabled:c(l).loading,class:"flex-1"},{default:v(()=>[...e[9]||(e[9]=[f(" Create ",-1)])]),_:1},8,["disabled"]),o(g,{type:"button",variant:"outline",onClick:e[4]||(e[4]=p=>r.value=!1),class:"flex-1"},{default:v(()=>[...e[10]||(e[10]=[f(" Cancel ",-1)])]),_:1})])],32)]),_:1},8,["show"])]),o(A)])])]))}};export{X as default};
